{"version":3,"sources":["components/Totals.js","components/Person.js","components/Shared.js","components/GroupList.js","App.js","index.js"],"names":["Totals","preTotal","setPreTotal","postTotal","setPostTotal","missingAmount","useState","showBadTotalMessage","setShowBadTotalMessage","useEffect","className","value","onChange","e","target","type","pattern","placeholder","readOnly","Person","index","name","people","setPeople","shared","rawSum","setRawSum","owedSum","setOwedSum","debouncedSum","setDebouncedSum","timerId","setTimeout","clearTimeout","console","log","Number","length","p","slice","raw","sum","setSumFunction","onClick","splice","Shared","setShared","rawShared","setRawShared","debouncedShared","setDebouncedShared","GroupList","peopleAmount","setPeopleAmount","countPeople","setCountPeople","renderedList","map","person","t","forEach","total","App","setMissingAmount","ReactDOM","render","document","querySelector"],"mappings":"yKA0DeA,EArDA,SAAC,GAAuE,IAArEC,EAAoE,EAApEA,SAAUC,EAA0D,EAA1DA,YAAaC,EAA6C,EAA7CA,UAAWC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cAGhE,EAAsDC,oBAAS,GAA/D,mBAAOC,EAAP,KAA4BC,EAA5B,KAWA,OATAC,qBAAU,WAEND,EADEP,EAAWE,KAMd,CAACF,EAAUE,IAGZ,qBAAKO,UAAU,sBAAf,SACE,sBAAKA,UAAU,SAAf,UACE,sBAAKA,UAAU,QAAf,UACE,0DACA,uBACEC,MAAOV,EACPW,SAAU,SAAAC,GAAC,OAAIX,EAAYW,EAAEC,OAAOH,QACpCI,KAAK,SACLC,QAAQ,SACRC,YAAY,MAEbV,EAAsB,qBAAKG,UAAU,oCAAf,qDAEd,QAEX,sBAAKA,UAAU,QAAf,UACE,gDACA,uBACEC,MAAOR,EACPS,SAAU,SAAAC,GAAC,OAAIT,EAAaS,EAAEC,OAAOH,QACrCI,KAAK,SACLC,QAAQ,SACRC,YAAY,SAGhB,sBAAKP,UAAU,QAAf,UACE,mDACA,uBACEC,MAAON,EACPU,KAAK,SACLG,UAAQ,a,OCuCLC,EAnFA,SAAC,GAAqE,IAAnEC,EAAkE,EAAlEA,MAAOC,EAA2D,EAA3DA,KAAMC,EAAqD,EAArDA,OAAQC,EAA6C,EAA7CA,UAAWtB,EAAkC,EAAlCA,SAAUE,EAAwB,EAAxBA,UAAWqB,EAAa,EAAbA,OACrE,EAA4BlB,mBAAS,IAArC,mBAAOmB,EAAP,KAAeC,EAAf,KACA,EAA8BpB,mBAAS,GAAvC,mBAAOqB,EAAP,KAAgBC,EAAhB,KACA,EAAwCtB,mBAASmB,GAAjD,mBAAOI,EAAP,KAAqBC,EAArB,KAQArB,qBAAU,WACR,IAAMsB,EAAUC,YAAW,WACzBF,EAAgBL,KACf,KAEH,OAAO,WACLQ,aAAaF,MAEd,CAACN,IAEJhB,qBAAU,WACR,GAAqB,IAAjBoB,EACFD,EAAW,OAER,CACHM,QAAQC,IAAI,gBAAiBN,GAE7BD,GAAYQ,OAAOP,GAAcL,GAA0B,IAAlBF,EAAOe,OAAe,EAAIf,EAAOe,SAASpC,EAASE,GAC5F,IAAMmC,EAAIhB,EAAOiB,QACjBD,EAAElB,GAAOoB,IAAMJ,OAAOP,GACtBN,EAAUe,MAEX,CAACT,EAAc5B,EAAUE,EAAWqB,EAAQF,EAAOe,SAEtD,IAAoBI,EAAKC,EAoBzB,OACE,+BACE,oBAAIhC,UAAU,aAAd,SACE,oBAAIA,UAAU,kBAAd,SACA,qBAAKA,UAAU,UAAf,SACGW,SAzBWoB,EA6BJhB,EA7BSiB,EA6BDhB,EA3BpB,oBAAIhB,UAAU,aAAd,SACE,sBAAKA,UAAU,wBAAf,UACE,uBACEK,KAAK,OACLC,QAAQ,SACRL,MAAO8B,EACP/B,UAAU,WACVO,YAAY,GACZL,SAAU,SAAAC,GAAC,OAAI6B,EAAe7B,EAAEC,OAAOH,UAEvC,qBAAKD,UAAU,kBAAf,SACE,mBAAGA,UAAU,4BAiBrB,oBAAIA,UAAU,aAAd,SACE,qBAAKA,UAAU,iBAAf,SACE,uBACEK,KAAK,SACLJ,MAAOgB,EACPT,UAAQ,QAId,oBAAIR,UAAU,aAAd,SACE,wBAAQA,UAAU,0BAA0BiC,QAtE7B,WACnB,IAAML,EAAIhB,EAAOiB,QACjBD,EAAEM,OAAOxB,EAAO,GAChBG,EAAUe,IAmEN,SACE,mBAAG5B,UAAU,iCCjCRmC,EA/CA,SAAC,GAA4B,IAAzBrB,EAAwB,EAAxBA,OAAQsB,EAAgB,EAAhBA,UACzB,EAAkCxC,mBAASkB,EAAOgB,KAAlD,mBAAOO,EAAP,KAAkBC,EAAlB,KACA,EAA8C1C,mBAASyC,GAAvD,mBAAOE,EAAP,KAAwBC,EAAxB,KAgBA,OAdAzC,qBAAU,WACR,IAAMsB,EAAUC,YAAW,WACzBkB,EAAmBd,OAAOW,MACzB,KAEH,OAAO,WACLd,aAAaF,MAEd,CAACgB,IAEJtC,qBAAU,WACRqC,EAAU,CAACzB,KAAM,SAAUmB,IAAKS,MAC/B,CAACA,IAGF,gCACE,+BACE,wCAGA,oBAAIvC,UAAU,GAAd,SACE,sBAAKA,UAAU,wBAAf,UACE,uBACEK,KAAK,OACLC,QAAQ,SACRL,MAAOoC,EACPrC,UAAU,WACVE,SAAU,SAAAC,GAAC,OAAImC,EAAanC,EAAEC,OAAOH,UAErC,qBAAKD,UAAU,kBAAf,SACE,mBAAGA,UAAU,2BAIrB,6BCwCOyC,EA1EG,SAAC,GAA2D,EAAzDC,aAA0D,IAA5CC,EAA2C,EAA3CA,gBAAiBpD,EAA0B,EAA1BA,SAAUE,EAAgB,EAAhBA,UAC5D,EAA4BG,mBAAS,CAACe,KAAM,SAAUmB,IAAK,IAA3D,mBAAOhB,EAAP,KAAesB,EAAf,KACA,EAA4BxC,mBAAS,IAArC,mBAAOgB,EAAP,KAAeC,EAAf,KACA,EAAsCjB,mBAASgB,EAAOe,QAAtD,mBAAOiB,EAAP,KAAoBC,EAApB,KAEMC,EAAelC,EAAOmC,KAAI,SAACC,EAAQtC,GACvC,OACE,cAAC,EAAD,CAEEA,MAAOA,EACPG,UAAWA,EACXD,OAAQA,EACRD,KAAMqC,EAAOrC,KACbpB,SAAUA,EACVE,UAAWA,EACXqB,OAAQA,EAAOgB,KAPVpB,MAgCX,OApBAX,qBAAU,YACM,WACZ,IAAIkD,EAAI,EACRrC,EAAOsC,SAAQ,SAACF,GACdC,GAAKD,EAAOlB,OAEdmB,GAAKnC,EAAOgB,IACZa,EAAgBM,GAElBE,KACC,CAACvC,EAAQE,EAAOgB,MAMnB/B,qBAAU,WACR8C,EAAejC,EAAOe,UACrB,CAACf,EAAOe,SAGT,8BACE,sBAAK3B,UAAU,qBAAf,UACE,wBAAOA,UAAU,iDAAjB,UACE,uBAAOA,UAAU,aAAjB,SACE,+BACE,wCACA,uCACA,sCACA,4BAGJ,cAAC,EAAD,CAAQc,OAAQA,EAAQsB,UAAWA,IACnC,gCACGU,OAGL,qBAAK9C,UAAU,mBAAf,SACE,wBACEiC,QAAS,WAAOpB,EAAU,GAAD,mBAAKD,GAAL,CAAa,CAACD,KAAK,IAAD,OAAMiC,GAAed,IAAK,OACrE9B,UAAU,qBAFZ,gCC/BKoD,EA7BH,WACV,MAAgCxD,mBAAS,IAAzC,mBAAOL,EAAP,KAAiBC,EAAjB,KACA,EAAkCI,mBAAS,IAA3C,mBAAOH,EAAP,KAAkBC,EAAlB,KACA,EAA0CE,mBAAS,GAAnD,mBAAOD,EAAP,KAAsB0D,EAAtB,KACA,EAAwCzD,mBAAS,GAAjD,mBAAO8C,EAAP,KAAqBC,EAArB,KAMA,OAJA5C,qBAAU,WACRsD,EAAiB9D,EAASmD,KACzB,CAACnD,EAAUmD,IAGZ,sBAAK1C,UAAU,aAAf,UACE,cAAC,EAAD,CACET,SAAUA,EACVC,YAAaA,EACbC,UAAWA,EACXC,aAAcA,EACdC,cAAeA,IAEjB,cAAC,EAAD,CACE+C,aAAcA,EACdC,gBAAiBA,EACjBpD,SAAUA,EACVE,UAAWA,QCvBnB6D,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,cAAc,Y","file":"static/js/main.f6f79f05.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\n\n//number validation and also have to add in the value field and such\n//add missing value between sum of all people and final/pre\n\nconst Totals = ({ preTotal, setPreTotal, postTotal, setPostTotal, missingAmount }) => {\n  // using a string instead of 0 or null because 0 would require deleting 0 then typing number\n  // null gives us an error because value in <input> shouldn't be null\n  const [showBadTotalMessage, setShowBadTotalMessage] = useState(false);\n\n  useEffect(() => {\n    if (preTotal > postTotal) {\n      setShowBadTotalMessage(true);\n    }\n    else {\n      setShowBadTotalMessage(false);\n    }\n  }, [preTotal, postTotal])\n\n  return (\n    <div className=\"ui equal width form\">\n      <div className=\"fields\">\n        <div className=\"field\">\n          <label>Pre Tip and Tax Total</label>\n          <input\n            value={preTotal}\n            onChange={e => setPreTotal(e.target.value)}\n            type=\"number\"\n            pattern=\"[0-9]*\"\n            placeholder=\"0\"\n          />\n          {showBadTotalMessage ? <div className=\"ui pointing red basic label fluid\">\n            Pre-total must be less than final total\n          </div> : null}\n        </div>\n        <div className=\"field\">\n          <label>Final Total</label>\n          <input\n            value={postTotal}\n            onChange={e => setPostTotal(e.target.value)}\n            type=\"number\"\n            pattern=\"[0-9]*\"\n            placeholder=\"0\"\n          />\n        </div>\n        <div className=\"field\">\n          <label>Missing Amount</label>\n          <input\n            value={missingAmount}\n            type=\"number\"\n            readOnly\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Totals;\n","import React, { useState, useEffect } from 'react';\n\n//add delete button and edit button\n//show calculator: https://medium.com/@nitinpatel_20236/how-to-build-a-simple-calculator-application-with-react-js-bc10a4568bbd\n// add a personName or rename this to PersonRow and make a person file\n\nconst Person = ({ index, name, people, setPeople, preTotal, postTotal, shared }) => {\n  const [rawSum, setRawSum] = useState(\"\");\n  const [owedSum, setOwedSum] = useState(0);\n  const [debouncedSum, setDebouncedSum] = useState(rawSum);\n\n  const removePerson = () => {\n    const p = people.slice();\n    p.splice(index, 1);\n    setPeople(p);\n  };\n\n  useEffect(() => {\n    const timerId = setTimeout(() => {\n      setDebouncedSum(rawSum);\n    }, 500);\n\n    return () => {\n      clearTimeout(timerId)\n    };\n  }, [rawSum]);\n\n  useEffect(() => {\n    if (debouncedSum === 0) {\n      setOwedSum(0);\n    }\n    else {\n      console.log(\"people.length\", debouncedSum);\n      //include shared plates here\n      setOwedSum((Number(debouncedSum)+shared/(people.length === 0 ? 1 : people.length))/preTotal*postTotal);\n      const p = people.slice();\n      p[index].raw = Number(debouncedSum);\n      setPeople(p);\n    }\n  }, [debouncedSum, preTotal, postTotal, shared, people.length])\n\n  const showAmount = (sum, setSumFunction) => {\n    return (\n      <td className=\"collapsing\">\n        <div className=\"ui fluid action input\">\n          <input\n            type=\"text\"\n            pattern=\"[0-9]*\"\n            value={sum}\n            className=\"ui fluid\"\n            placeholder=\"\"\n            onChange={e => setSumFunction(e.target.value)}\n          />\n            <div className=\"ui label button\">\n              <i className=\"calculator icon\"></i>\n            </div>\n        </div>\n      </td>\n    );\n  };\n\n  return (\n    <tr>\n      <td className=\"collapsing\">\n        <h5 className=\"ui image header\">\n        <div className=\"content\">\n          {name}\n        </div>\n        </h5>\n      </td>\n      {showAmount(rawSum, setRawSum)}\n      <td className=\"collapsing\">\n        <div className=\"ui fluid input\">\n          <input\n            type=\"number\"\n            value={owedSum}\n            readOnly\n          />\n        </div>\n      </td>\n      <td className=\"collapsing\">\n        <button className=\"ui mini red icon button\" onClick={removePerson}>\n          <i className=\"trash alternate icon\"></i>\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nexport default Person;\n","import React, { useState, useEffect } from 'react';\n\nconst Shared = ( { shared, setShared }) => {\n  const [rawShared, setRawShared] = useState(shared.raw);\n  const [debouncedShared, setDebouncedShared] = useState(rawShared);\n\n  useEffect(() => {\n    const timerId = setTimeout(() => {\n      setDebouncedShared(Number(rawShared));\n    }, 500);\n\n    return () => {\n      clearTimeout(timerId)\n    };\n  }, [rawShared]);\n\n  useEffect(() => {\n    setShared({name: \"Shared\", raw: debouncedShared})\n  }, [debouncedShared]);\n\n  return (\n    <tbody>\n      <tr>\n        <td>\n          Shared\n        </td>\n        <td className=\"\">\n          <div className=\"ui fluid action input\">\n            <input\n              type=\"text\"\n              pattern=\"[0-9]*\"\n              value={rawShared}\n              className=\"ui fluid\"\n              onChange={e => setRawShared(e.target.value)}\n            />\n              <div className=\"ui label button\">\n                <i className=\"calculator icon\"></i>\n              </div>\n          </div>\n        </td>\n        <td>\n\n        </td>\n\n      </tr>\n    </tbody>\n  );\n}\n\nexport default Shared\n","import React, { useState, useEffect } from 'react';\nimport Person from './Person';\nimport Shared from './Shared';\n\n//add shared plates\n\nconst GroupList = ({ peopleAmount, setPeopleAmount, preTotal, postTotal }) => {\n  const [shared, setShared] = useState({name: \"Shared\", raw: 0});\n  const [people, setPeople] = useState([])\n  const [countPeople, setCountPeople] = useState(people.length)\n\n  const renderedList = people.map((person, index) => {\n    return (\n      <Person\n        key={index}\n        index={index}\n        setPeople={setPeople}\n        people={people}\n        name={person.name}\n        preTotal={preTotal}\n        postTotal={postTotal}\n        shared={shared.raw}\n      />\n    );\n  });\n\n  useEffect(() => {\n    const total = () => {\n      var t = 0;\n      people.forEach((person) => {\n        t += person.raw;\n      });\n      t += shared.raw;\n      setPeopleAmount(t);\n    }\n    total();\n  }, [people, shared.raw])\n\n  // useEffect(() => {\n  //   console.log(\"countPeople\", shared.raw);\n  // })\n\n  useEffect(() => {\n    setCountPeople(people.length);\n  }, [people.length])\n\n  return (\n    <div>\n      <div className=\"ui container-fluid\">\n        <table className=\"ui compact celled definition unstackable table\">\n          <thead className=\"full-width\">\n            <tr>\n              <th>Person</th>\n              <th>Total</th>\n              <th>Owed</th>\n              <th></th>\n            </tr>\n          </thead>\n          <Shared shared={shared} setShared={setShared}/>\n          <tbody>\n            {renderedList}\n          </tbody>\n        </table>\n        <div className=\"ui fluid buttons\">\n          <button\n            onClick={() => {setPeople([...people, {name: `P${countPeople}`, raw: 0}])}}\n            className=\"ui positive button\"\n            >Add Person\n          </button>\n          {/*<button\n            onClick={() => {setPeople([])}}\n            className=\"ui negative basic button\">\n            Clear\n          </button>*/}\n      </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GroupList;\n","import React, { useState, useEffect } from 'react';\nimport Totals from './components/Totals'\nimport GroupList from './components/GroupList'\n\nconst App = () => {\n  const [preTotal, setPreTotal] = useState(\"\");\n  const [postTotal, setPostTotal] = useState(\"\");\n  const [missingAmount, setMissingAmount] = useState(0);\n  const [peopleAmount, setPeopleAmount] = useState(0);\n\n  useEffect(() => {\n    setMissingAmount(preTotal-peopleAmount);\n  }, [preTotal, peopleAmount])\n\n  return (\n    <div className=\"ui segment\">\n      <Totals\n        preTotal={preTotal}\n        setPreTotal={setPreTotal}\n        postTotal={postTotal}\n        setPostTotal={setPostTotal}\n        missingAmount={missingAmount}\n      />\n      <GroupList\n        peopleAmount={peopleAmount}\n        setPeopleAmount={setPeopleAmount}\n        preTotal={preTotal}\n        postTotal={postTotal}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}