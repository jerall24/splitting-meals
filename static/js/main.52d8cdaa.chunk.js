(this["webpackJsonpsplitting-dinners"]=this["webpackJsonpsplitting-dinners"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(4),i=n.n(r),a=n(2),_=n(0),l=function(e){var t=e.preTotal,n=e.setPreTotal,c=e.postTotal,r=e.setPostTotal,i=e.missingAmount,l=Object(s.useState)(!1),o=Object(a.a)(l,2),u=o[0],d=o[1];return Object(s.useEffect)((function(){d(t>c)}),[t,c]),Object(_.jsx)("div",{className:"ui equal width form",children:Object(_.jsxs)("div",{className:"fields",children:[Object(_.jsxs)("div",{className:"field",children:[Object(_.jsx)("label",{children:"Pre Tip and Tax Total"}),Object(_.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)},type:"number",placeholder:"0"}),u?Object(_.jsx)("div",{className:"ui pointing red basic label fluid",children:"Pre-total must be less than final total"}):null]}),Object(_.jsxs)("div",{className:"field",children:[Object(_.jsx)("label",{children:"Final Total"}),Object(_.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)},type:"number",placeholder:"0"})]}),Object(_.jsxs)("div",{className:"field",children:[Object(_.jsx)("label",{children:"Missing Amount"}),Object(_.jsx)("input",{value:i.toFixed(2),type:"number",readOnly:!0})]})]})})},o=n(8),u=n(7),d=function(e){var t=e.isShowing,n=e.hide,s=e.debouncedSum,r=e.setDebouncedSum,a=e.setSentFromCalc;return t?i.a.createPortal(Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)("div",{className:"modal-overlay"}),Object(_.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(_.jsxs)("div",{className:"modal",children:[Object(_.jsx)("div",{className:"modal-header",children:Object(_.jsx)("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:function(){n(),a(!0)},children:Object(_.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(_.jsx)(u.a,{setDebouncedSum:r,debouncedSum:s})]})})]}),document.body):null},j=function(){var e=Object(s.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1];return{isShowing:n,toggle:function(){c(!n)}}},b=(n(14),function(e){var t=e.index,n=e.name,c=e.people,r=e.setPeople,i=e.preTotal,l=e.postTotal,o=e.shared,u=Object(s.useState)(""),b=Object(a.a)(u,2),O=b[0],x=b[1],m=Object(s.useState)(0),E=Object(a.a)(m,2),p=E[0],h=E[1],f=Object(s.useState)(O),P=Object(a.a)(f,2),C=P[0],g=P[1],D=j(),M=D.isShowing,v=D.toggle,T=Object(s.useState)(!1),N=Object(a.a)(T,2),A=N[0],S=N[1];Object(s.useEffect)((function(){var e=setTimeout((function(){g(O)}),500);return function(){clearTimeout(e)}}),[O]),Object(s.useEffect)((function(){if(0===C)h(0);else{console.log("people.length",C),h((Number(C)+o/(0===c.length?1:c.length))/i*l);var e=c.slice();e[t].raw=Number(C),r(e)}}),[C,i,l,o,c.length]);var w=function(e,t){return Object(_.jsx)("td",{className:"collapsing",children:Object(_.jsxs)("div",{className:"ui fluid action input",children:[Object(_.jsx)("input",{type:"text",pattern:"[0-9]*",value:e,className:"ui fluid",placeholder:"",onChange:function(e){t(e.target.value),S(!1)}}),Object(_.jsx)("button",{onClick:v,className:"ui label button",children:Object(_.jsx)("i",{className:"calculator icon"})}),Object(_.jsx)(d,{isShowing:M,hide:v,setDebouncedSum:g,debouncedSum:C,setSentFromCalc:S})]})})};return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"collapsing",children:Object(_.jsx)("h5",{className:"ui image header",children:Object(_.jsx)("div",{className:"content",children:n})})}),w(A?C:O,x),Object(_.jsx)("td",{className:"collapsing",children:Object(_.jsx)("div",{className:"ui fluid input",children:Object(_.jsx)("input",{type:"number",value:p,readOnly:!0})})}),Object(_.jsx)("td",{className:"collapsing",children:Object(_.jsx)("button",{className:"ui mini red icon button",onClick:function(){var e=c.slice();e.splice(t,1),r(e)},children:Object(_.jsx)("i",{className:"trash alternate icon"})})})]})}),O=function(e){var t=e.shared,n=e.setShared,c=Object(s.useState)(t.raw),r=Object(a.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(i),u=Object(a.a)(o,2),d=u[0],j=u[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){j(Number(i))}),500);return function(){clearTimeout(e)}}),[i]),Object(s.useEffect)((function(){n({name:"Shared",raw:d})}),[d]),Object(_.jsx)("tbody",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Shared"}),Object(_.jsx)("td",{className:"",children:Object(_.jsxs)("div",{className:"ui fluid action input",children:[Object(_.jsx)("input",{type:"text",pattern:"[0-9]*",value:i,className:"ui fluid",onChange:function(e){return l(e.target.value)}}),Object(_.jsx)("div",{className:"ui label button",children:Object(_.jsx)("i",{className:"calculator icon"})})]})}),Object(_.jsx)("td",{})]})})},x=function(e){e.peopleAmount;var t=e.setPeopleAmount,n=e.preTotal,c=e.postTotal,r=Object(s.useState)({name:"Shared",raw:0}),i=Object(a.a)(r,2),l=i[0],u=i[1],d=Object(s.useState)([]),j=Object(a.a)(d,2),x=j[0],m=j[1],E=Object(s.useState)(x.length),p=Object(a.a)(E,2),h=p[0],f=p[1],P=x.map((function(e,t){return Object(_.jsx)(b,{index:t,setPeople:m,people:x,name:e.name,preTotal:n,postTotal:c,shared:l.raw},t)}));return Object(s.useEffect)((function(){!function(){var e=0;x.forEach((function(t){e+=t.raw})),e+=l.raw,t(e)}()}),[x,l.raw]),Object(s.useEffect)((function(){f(x.length)}),[x.length]),Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:"ui container-fluid",children:[Object(_.jsxs)("table",{className:"ui compact celled definition unstackable table",children:[Object(_.jsx)("thead",{className:"full-width",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Person"}),Object(_.jsx)("th",{children:"Total"}),Object(_.jsx)("th",{children:"Owed"}),Object(_.jsx)("th",{})]})}),Object(_.jsx)(O,{shared:l,setShared:u}),Object(_.jsx)("tbody",{children:P})]}),Object(_.jsx)("div",{className:"ui fluid buttons",children:Object(_.jsx)("button",{onClick:function(){m([].concat(Object(o.a)(x),[{name:"P".concat(h),raw:0}]))},className:"ui positive button",children:"Add Person"})})]})})},m=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),i=Object(a.a)(r,2),o=i[0],u=i[1],d=Object(s.useState)(0),j=Object(a.a)(d,2),b=j[0],O=j[1],m=Object(s.useState)(0),E=Object(a.a)(m,2),p=E[0],h=E[1];return Object(s.useEffect)((function(){O(n-p)}),[n,p]),Object(_.jsxs)("div",{className:"ui segment",children:[Object(_.jsx)(l,{preTotal:n,setPreTotal:c,postTotal:o,setPostTotal:u,missingAmount:b}),Object(_.jsx)(x,{peopleAmount:p,setPeopleAmount:h,preTotal:n,postTotal:o})]})};i.a.render(Object(_.jsx)(m,{}),document.querySelector("#root"))},7:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_jeremie_Drive_Projects_splitting_dinners_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__),Calculator=function Calculator(_ref){var debouncedSum=_ref.debouncedSum,setDebouncedSum=_ref.setDebouncedSum,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(debouncedSum),_useState2=Object(_Users_jeremie_Drive_Projects_splitting_dinners_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),expression=_useState2[0],setExpression=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(expression),_useState4=Object(_Users_jeremie_Drive_Projects_splitting_dinners_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),finalAmount=_useState4[0],setFinalAmount=_useState4[1];function addToExpression(e){setExpression(expression+e)}function cleanUp(e){"0"===e[0]&&setExpression(1,e.length)}function handleClick(e){switch(console.log("expression",expression,"event.target.textContent",e.target.textContent),e.target.textContent){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"x":case"/":case"+":case"-":case".":setExpression("".concat(expression).concat(e.target.textContent))}}Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){setExpression(finalAmount),setDebouncedSum(finalAmount)}),[finalAmount]);var border={border:"dotted solid",borderWidth:"thin"};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"ui container-fluid segment",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"ui centered grid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"ui sixteen wide column",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"ui right fluid labeled input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{htmlFor:"amount",className:"ui label",children:"$"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{type:"text",value:expression,readOnly:!0})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(){return setExpression("")},className:"ui center aligned eight wide blue column",children:"C"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(){return setExpression(expression.slice(0,expression.length-1))},className:"ui center aligned four wide column red",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{className:"ui icon backward"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"/"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"7"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"8"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"9"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"*"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"4"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"5"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"6"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"-"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"3"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"+"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned eight wide column ",children:"0"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function onClick(){cleanUp(expression),setFinalAmount(""===expression?0:eval(expression).toFixed(2)),setDebouncedSum(finalAmount)},className:"ui center aligned four wide column green",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{className:"ui icon check"})})]})})};__webpack_exports__.a=Calculator}},[[15,1,2]]]);
//# sourceMappingURL=main.52d8cdaa.chunk.js.map