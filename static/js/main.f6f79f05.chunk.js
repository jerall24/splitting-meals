(this["webpackJsonpsplitting-meals"]=this["webpackJsonpsplitting-meals"]||[]).push([[0],{13:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(6),n=c.n(s),l=c(2),i=c(0),r=function(e){var t=e.preTotal,c=e.setPreTotal,s=e.postTotal,n=e.setPostTotal,r=e.missingAmount,j=Object(a.useState)(!1),u=Object(l.a)(j,2),o=u[0],b=u[1];return Object(a.useEffect)((function(){b(t>s)}),[t,s]),Object(i.jsx)("div",{className:"ui equal width form",children:Object(i.jsxs)("div",{className:"fields",children:[Object(i.jsxs)("div",{className:"field",children:[Object(i.jsx)("label",{children:"Pre Tip and Tax Total"}),Object(i.jsx)("input",{value:t,onChange:function(e){return c(e.target.value)},type:"number",pattern:"[0-9]*",placeholder:"0"}),o?Object(i.jsx)("div",{className:"ui pointing red basic label fluid",children:"Pre-total must be less than final total"}):null]}),Object(i.jsxs)("div",{className:"field",children:[Object(i.jsx)("label",{children:"Final Total"}),Object(i.jsx)("input",{value:s,onChange:function(e){return n(e.target.value)},type:"number",pattern:"[0-9]*",placeholder:"0"})]}),Object(i.jsxs)("div",{className:"field",children:[Object(i.jsx)("label",{children:"Missing Amount"}),Object(i.jsx)("input",{value:r,type:"number",readOnly:!0})]})]})})},j=c(7),u=function(e){var t=e.index,c=e.name,s=e.people,n=e.setPeople,r=e.preTotal,j=e.postTotal,u=e.shared,o=Object(a.useState)(""),b=Object(l.a)(o,2),d=b[0],O=b[1],h=Object(a.useState)(0),m=Object(l.a)(h,2),p=m[0],f=m[1],x=Object(a.useState)(d),v=Object(l.a)(x,2),N=v[0],g=v[1];Object(a.useEffect)((function(){var e=setTimeout((function(){g(d)}),500);return function(){clearTimeout(e)}}),[d]),Object(a.useEffect)((function(){if(0===N)f(0);else{console.log("people.length",N),f((Number(N)+u/(0===s.length?1:s.length))/r*j);var e=s.slice();e[t].raw=Number(N),n(e)}}),[N,r,j,u,s.length]);var T,S;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"collapsing",children:Object(i.jsx)("h5",{className:"ui image header",children:Object(i.jsx)("div",{className:"content",children:c})})}),(T=d,S=O,Object(i.jsx)("td",{className:"collapsing",children:Object(i.jsxs)("div",{className:"ui fluid action input",children:[Object(i.jsx)("input",{type:"text",pattern:"[0-9]*",value:T,className:"ui fluid",placeholder:"",onChange:function(e){return S(e.target.value)}}),Object(i.jsx)("div",{className:"ui label button",children:Object(i.jsx)("i",{className:"calculator icon"})})]})})),Object(i.jsx)("td",{className:"collapsing",children:Object(i.jsx)("div",{className:"ui fluid input",children:Object(i.jsx)("input",{type:"number",value:p,readOnly:!0})})}),Object(i.jsx)("td",{className:"collapsing",children:Object(i.jsx)("button",{className:"ui mini red icon button",onClick:function(){var e=s.slice();e.splice(t,1),n(e)},children:Object(i.jsx)("i",{className:"trash alternate icon"})})})]})},o=function(e){var t=e.shared,c=e.setShared,s=Object(a.useState)(t.raw),n=Object(l.a)(s,2),r=n[0],j=n[1],u=Object(a.useState)(r),o=Object(l.a)(u,2),b=o[0],d=o[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){d(Number(r))}),500);return function(){clearTimeout(e)}}),[r]),Object(a.useEffect)((function(){c({name:"Shared",raw:b})}),[b]),Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Shared"}),Object(i.jsx)("td",{className:"",children:Object(i.jsxs)("div",{className:"ui fluid action input",children:[Object(i.jsx)("input",{type:"text",pattern:"[0-9]*",value:r,className:"ui fluid",onChange:function(e){return j(e.target.value)}}),Object(i.jsx)("div",{className:"ui label button",children:Object(i.jsx)("i",{className:"calculator icon"})})]})}),Object(i.jsx)("td",{})]})})},b=function(e){e.peopleAmount;var t=e.setPeopleAmount,c=e.preTotal,s=e.postTotal,n=Object(a.useState)({name:"Shared",raw:0}),r=Object(l.a)(n,2),b=r[0],d=r[1],O=Object(a.useState)([]),h=Object(l.a)(O,2),m=h[0],p=h[1],f=Object(a.useState)(m.length),x=Object(l.a)(f,2),v=x[0],N=x[1],g=m.map((function(e,t){return Object(i.jsx)(u,{index:t,setPeople:p,people:m,name:e.name,preTotal:c,postTotal:s,shared:b.raw},t)}));return Object(a.useEffect)((function(){!function(){var e=0;m.forEach((function(t){e+=t.raw})),e+=b.raw,t(e)}()}),[m,b.raw]),Object(a.useEffect)((function(){N(m.length)}),[m.length]),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"ui container-fluid",children:[Object(i.jsxs)("table",{className:"ui compact celled definition unstackable table",children:[Object(i.jsx)("thead",{className:"full-width",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Person"}),Object(i.jsx)("th",{children:"Total"}),Object(i.jsx)("th",{children:"Owed"}),Object(i.jsx)("th",{})]})}),Object(i.jsx)(o,{shared:b,setShared:d}),Object(i.jsx)("tbody",{children:g})]}),Object(i.jsx)("div",{className:"ui fluid buttons",children:Object(i.jsx)("button",{onClick:function(){p([].concat(Object(j.a)(m),[{name:"P".concat(v),raw:0}]))},className:"ui positive button",children:"Add Person"})})]})})},d=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),j=Object(l.a)(n,2),u=j[0],o=j[1],d=Object(a.useState)(0),O=Object(l.a)(d,2),h=O[0],m=O[1],p=Object(a.useState)(0),f=Object(l.a)(p,2),x=f[0],v=f[1];return Object(a.useEffect)((function(){m(c-x)}),[c,x]),Object(i.jsxs)("div",{className:"ui segment",children:[Object(i.jsx)(r,{preTotal:c,setPreTotal:s,postTotal:u,setPostTotal:o,missingAmount:h}),Object(i.jsx)(b,{peopleAmount:x,setPeopleAmount:v,preTotal:c,postTotal:u})]})};n.a.render(Object(i.jsx)(d,{}),document.querySelector("#root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.f6f79f05.chunk.js.map