(this["webpackJsonpsplitting-dinners"]=this["webpackJsonpsplitting-dinners"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),i=n(4),r=n.n(i),a=n(2),l=n(0),_=function(e){var t=e.preTotal,n=e.setPreTotal,c=e.postTotal,i=e.setPostTotal,r=e.missingAmount,_=Object(s.useState)(!1),u=Object(a.a)(_,2),o=u[0],d=u[1],j=Object(s.useState)(!1),b=Object(a.a)(j,2),O=b[0],m=b[1],x=Object(s.useState)(t),E=Object(a.a)(x,2),f=E[0],p=E[1];function h(e){return Number(f)*(1+e)}Object(s.useEffect)((function(){var e=setTimeout((function(){p(Number(t))}),500);return function(){clearTimeout(e)}}),[t]),Object(s.useEffect)((function(){m(f>0)}),[f]),Object(s.useEffect)((function(){d(t>c)}),[t,c]);var C=[.15,.18,.2,.25].map((function(e){return Object(l.jsxs)("div",{style:{position:"relative"},onClick:function(){i(h(e).toFixed(2)),d(!1)},className:"ui mini grey button",children:["$",h(e).toFixed(2),Object(l.jsxs)("div",{className:"floating ui mini blue label",children:[100*e,"%"]})]})}));return Object(l.jsx)("div",{className:"ui equal width form",children:Object(l.jsxs)("div",{className:"fields",children:[Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Pre Tip and Tax Total"}),Object(l.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)},type:"number",placeholder:"0"}),o?Object(l.jsx)("div",{className:"ui pointing red basic label fluid",children:"Pre-total must be less than final total"}):null,O?Object(l.jsx)("div",{className:"ui container-fluid",children:Object(l.jsxs)("div",{className:"ui label",children:["Tips: ",C]})}):null]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Final Total"}),Object(l.jsx)("input",{value:c,onChange:function(e){return i(e.target.value)},type:"number",placeholder:"0"})]}),Object(l.jsxs)("div",{className:"field",children:[Object(l.jsx)("label",{children:"Missing Amount"}),Object(l.jsx)("input",{value:r.toFixed(2),type:"number",readOnly:!0})]})]})})},u=n(8),o=n(7),d=function(e){var t=e.isShowing,n=e.hide,s=e.debouncedSum,i=e.setDebouncedSum,a=e.setSentFromCalc;return t?r.a.createPortal(Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)("div",{className:"modal-overlay"}),Object(l.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(l.jsxs)("div",{className:"modal",children:[Object(l.jsx)(o.a,{setDebouncedSum:i,debouncedSum:s}),Object(l.jsx)("div",{className:"modal-header",children:Object(l.jsx)("button",{className:"ui fluid positive button","data-dismiss":"modal","aria-label":"Close",onClick:function(){n(),a(!0)},children:"Submit/Close"})})]})})]}),document.body):null},j=function(){var e=Object(s.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1];return{isShowing:n,toggle:function(){c(!n)}}},b=(n(14),function(e){var t=e.index,n=e.name,c=e.people,i=e.setPeople,r=e.preTotal,_=e.postTotal,u=e.shared,o=Object(s.useState)(""),b=Object(a.a)(o,2),O=b[0],m=b[1],x=Object(s.useState)(0),E=Object(a.a)(x,2),f=E[0],p=E[1],h=Object(s.useState)(O),C=Object(a.a)(h,2),g=C[0],P=C[1],v=j(),D=v.isShowing,M=v.toggle,T=Object(s.useState)(!1),N=Object(a.a)(T,2),S=N[0],A=N[1],w=Object(s.useState)(n),y=Object(a.a)(w,2),U=y[0],I=y[1],W=Object(s.useState)(U),k=Object(a.a)(W,2),B=k[0],K=k[1];Object(s.useEffect)((function(){var e=setTimeout((function(){K(U)}),500);return function(){clearTimeout(e)}}),[U]),Object(s.useEffect)((function(){I(B);var e=c.slice();e[t].name=U,i(e)}),[B]),Object(s.useEffect)((function(){var e=setTimeout((function(){P(O)}),500);return function(){clearTimeout(e)}}),[O]),Object(s.useEffect)((function(){if(0===g)p(0);else{p((Number(g)+u/(0===c.length?1:c.length))/r*_);var e=c.slice();e[t].raw=Number(g),i(e)}}),[g,r,_,u,c.length]);var L=function(e,t){return Object(l.jsx)("td",{className:"collapsing",children:Object(l.jsxs)("div",{className:"ui fluid mini action input",children:[Object(l.jsx)("input",{type:"text",pattern:"[0-9]*",value:e,className:"ui fluid",placeholder:"",onChange:function(e){t(e.target.value),A(!1)}}),Object(l.jsx)("button",{onClick:M,className:"ui label button",children:Object(l.jsx)("i",{className:"calculator icon"})}),Object(l.jsx)(d,{isShowing:D,hide:M,setDebouncedSum:P,debouncedSum:g,setSentFromCalc:A})]})})};return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"collapsing",children:Object(l.jsxs)("div",{className:"ui fluid mini labeled input",children:[Object(l.jsx)("div",{onClick:function(){var e=c.slice();e.splice(t,1),i(e)},className:"ui red icon label button",children:Object(l.jsx)("i",{className:"trash alternate icon"})}),Object(l.jsx)("input",{type:"text",value:U,onChange:function(e){return I(e.target.value)}})]})}),L(S?g:O,m),Object(l.jsx)("td",{className:"collapsing",children:Object(l.jsx)("div",{className:"ui fluid mini input",children:Object(l.jsx)("input",{type:"number",value:isNaN(f)?0:f,readOnly:!0})})})]})}),O=function(e){var t=e.shared,n=e.setShared,c=Object(s.useState)(t.raw),i=Object(a.a)(c,2),r=i[0],_=i[1],u=Object(s.useState)(r),o=Object(a.a)(u,2),d=o[0],j=o[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){j(Number(r))}),500);return function(){clearTimeout(e)}}),[r]),Object(s.useEffect)((function(){n({name:"Shared",raw:d})}),[d]),Object(l.jsx)("tbody",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Shared"}),Object(l.jsx)("td",{className:"",children:Object(l.jsxs)("div",{className:"ui fluid mini action input",children:[Object(l.jsx)("input",{type:"text",pattern:"[0-9]*",value:r,className:"ui fluid",onChange:function(e){return _(e.target.value)}}),Object(l.jsx)("div",{className:"ui label button",children:Object(l.jsx)("i",{className:"calculator icon"})})]})}),Object(l.jsx)("td",{})]})})},m=function(e){e.peopleAmount;var t=e.setPeopleAmount,n=e.preTotal,c=e.postTotal,i=Object(s.useState)({name:"Shared",raw:0}),r=Object(a.a)(i,2),_=r[0],o=r[1],d=Object(s.useState)([]),j=Object(a.a)(d,2),m=j[0],x=j[1],E=Object(s.useState)(m.length),f=Object(a.a)(E,2),p=f[0],h=f[1],C=m.map((function(e,t){return Object(l.jsx)(b,{index:t,setPeople:x,people:m,name:e.name,preTotal:n,postTotal:c,shared:_.raw},t)}));return Object(s.useEffect)((function(){!function(){var e=0;m.forEach((function(t){e+=t.raw})),e+=_.raw,t(e)}()}),[m,_.raw]),Object(s.useEffect)((function(){h(m.length)}),[m.length]),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"ui container-fluid",children:[Object(l.jsxs)("table",{className:"ui compact celled definition unstackable table",children:[Object(l.jsx)("thead",{className:"full-width",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Person"}),Object(l.jsx)("th",{children:"Total"}),Object(l.jsx)("th",{children:"Owed"})]})}),Object(l.jsx)(O,{shared:_,setShared:o}),Object(l.jsx)("tbody",{children:C})]}),Object(l.jsx)("div",{className:"ui fluid buttons",children:Object(l.jsx)("button",{onClick:function(){x([].concat(Object(u.a)(m),[{name:"Person ".concat(p),raw:0}]))},className:"ui positive button",children:"Add Person"})})]})})},x=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(""),r=Object(a.a)(i,2),u=r[0],o=r[1],d=Object(s.useState)(0),j=Object(a.a)(d,2),b=j[0],O=j[1],x=Object(s.useState)(0),E=Object(a.a)(x,2),f=E[0],p=E[1];return Object(s.useEffect)((function(){O(n-f)}),[n,f]),Object(l.jsxs)("div",{className:"ui segment",children:[Object(l.jsx)(_,{preTotal:n,setPreTotal:c,postTotal:u,setPostTotal:o,missingAmount:b}),Object(l.jsx)(m,{peopleAmount:f,setPeopleAmount:p,preTotal:n,postTotal:u})]})};r.a.render(Object(l.jsx)(x,{}),document.querySelector("#root"))},7:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_jeremie_Drive_Projects_splitting_dinners_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__),Calculator=function Calculator(_ref){var debouncedSum=_ref.debouncedSum,setDebouncedSum=_ref.setDebouncedSum,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(debouncedSum),_useState2=Object(_Users_jeremie_Drive_Projects_splitting_dinners_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),expression=_useState2[0],setExpression=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(expression),_useState4=Object(_Users_jeremie_Drive_Projects_splitting_dinners_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),finalAmount=_useState4[0],setFinalAmount=_useState4[1];function addToExpression(e){setExpression(expression+e)}function cleanUp(e){"0"===e[0]&&setExpression(1,e.length)}function handleClick(e){switch(console.log("expression",expression,"event.target.textContent",e.target.textContent),e.target.textContent){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"x":case"/":case"+":case"-":case".":setExpression("".concat(expression).concat(e.target.textContent))}}Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){setExpression(finalAmount),setDebouncedSum(finalAmount)}),[finalAmount]);var border={border:"dotted solid",borderWidth:"thin"};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"ui container-fluid segment",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"ui centered grid",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"ui sixteen wide column",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"ui right fluid labeled input",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{htmlFor:"amount",className:"ui label",children:"$"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{type:"text",value:expression,readOnly:!0})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(){return setExpression("")},className:"ui center aligned eight wide blue column",children:"C"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(){return setExpression(expression.slice(0,expression.length-1))},className:"ui center aligned four wide column red",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{className:"ui icon backward"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"/"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"7"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"8"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"9"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"*"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"4"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"5"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"6"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"-"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"3"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column grey",children:"+"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned eight wide column ",children:"0"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function(e){return setExpression(expression+e.target.textContent)},className:"ui center aligned four wide column",children:"."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:border,onClick:function onClick(){cleanUp(expression),setFinalAmount(""===expression?0:eval(expression).toFixed(2)),setDebouncedSum(finalAmount)},className:"ui center aligned four wide column green",children:"="})]})})};__webpack_exports__.a=Calculator}},[[15,1,2]]]);
//# sourceMappingURL=main.045499e0.chunk.js.map